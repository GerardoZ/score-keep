{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"numeral","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"numeral"}]}],"exports":{"exported":["Players","calculatePlayerPositions"],"specifiers":[{"kind":"local","local":"Players","exported":"Players"},{"kind":"local","local":"calculatePlayerPositions","exported":"calculatePlayerPositions"}]}}},"options":{"filename":"imports/api/players.js","filenameRelative":"imports/api/players.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/players.js.map","sourceFileName":"imports/api/players.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"players"},"ignored":false,"code":"var _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n    Players: function () {\n        return Players;\n    },\n    calculatePlayerPositions: function () {\n        return calculatePlayerPositions;\n    }\n});\nvar Mongo = void 0;\nmodule.watch(require(\"meteor/mongo\"), {\n    Mongo: function (v) {\n        Mongo = v;\n    }\n}, 0);\nvar numeral = void 0;\nmodule.watch(require(\"numeral\"), {\n    \"default\": function (v) {\n        numeral = v;\n    }\n}, 1);\nvar Players = new Mongo.Collection('players');\n\nvar calculatePlayerPositions = function (players) {\n    var rank = 1;\n    return players.map(function (player, index) {\n        if (index !== 0 && players[index - 1].score > player.score) {\n            rank++;\n        }\n\n        return (0, _extends3.default)({}, player, {\n            rank: rank,\n            position: numeral(rank).format('0o')\n        });\n    });\n};","map":{"version":3,"sources":["imports/api/players.js"],"names":["module","export","Players","calculatePlayerPositions","Mongo","watch","require","v","numeral","Collection","players","rank","map","player","index","score","position","format"],"mappings":";;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC,aAAQ;AAAA,eAAIA,OAAJ;AAAA,KAAT;AAAqBC,8BAAyB;AAAA,eAAIA,wBAAJ;AAAA;AAA9C,CAAd;AAA2F,IAAIC,cAAJ;AAAUJ,OAAOK,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAACF,SAAD,YAAOG,CAAP,EAAS;AAACH,gBAAMG,CAAN;AAAQ;AAAlB,CAArC,EAAyD,CAAzD;AAA4D,IAAIC,gBAAJ;AAAYR,OAAOK,KAAP,CAAaC,QAAQ,SAAR,CAAb,EAAgC;AAAA,yBAASC,CAAT,EAAW;AAACC,kBAAQD,CAAR;AAAU;AAAtB,CAAhC,EAAwD,CAAxD;AAGtK,IAAML,UAAU,IAAIE,MAAMK,UAAV,CAAqB,SAArB,CAAhB;;AAEA,IAAMN,2BAA2B,UAACO,OAAD,EAAa;AACjD,QAAIC,OAAO,CAAX;AACA,WAAOD,QAAQE,GAAR,CAAY,UAACC,MAAD,EAASC,KAAT,EAAmB;AAClC,YAAGA,UAAU,CAAV,IAAeJ,QAAQI,QAAQ,CAAhB,EAAmBC,KAAnB,GAA2BF,OAAOE,KAApD,EAA0D;AACtDJ;AACH;;AACD,0CACOE,MADP;AAEIF,sBAFJ;AAGIK,sBAAUR,QAAQG,IAAR,EAAcM,MAAd,CAAqB,IAArB;AAHd;AAKH,KATM,CAAP;AAUH,CAZM","file":"imports/api/players.js.map","sourcesContent":["import {Mongo} from 'meteor/mongo';\nimport numeral from 'numeral';\n\nexport const Players = new Mongo.Collection('players');\n\nexport const calculatePlayerPositions = (players) => {\n    let rank = 1;\n    return players.map((player, index) => {\n        if(index !== 0 && players[index - 1].score > player.score){\n            rank++;\n        }\n        return{\n            ...player,\n            rank,\n            position: numeral(rank).format('0o')\n        }\n    });\n};"]},"hash":"f3d7953904e300a95989d52cce3d6dc1035f46f5"}
